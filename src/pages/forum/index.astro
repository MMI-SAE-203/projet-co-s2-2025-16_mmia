---
import Layout from "../../layouts/Layout.astro";
import CardPost from "../../components/Card_post.astro";
import { getPosts } from "../../../backend/backend.mjs";


const {id} = Astro.params;

let message ='';
let posts = [];

posts = await getPosts() || [];

if (!posts){
	return Astro.redirect ('/posts');
}
console.log(posts)
---

<Layout titre=Forum>
    <h1 class="text-center my-12">Forum</h1>
    <div class="">
        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-4 mt-12">
            {posts.map((post:any) => <CardPost {...post} />)}
        </div> 
    </div>
    <!-- <div class="flex flex-wrap *:mb-24  *:text-[var(--blanc-casse)] dark:*:text-[var(--gris-anthracite)]">
        <div class="w-[393px] h-[342px] bg-[var(--gris-anthracite)] dark:bg-[var(--blanc-casse)] text-center rounded-2xl mx-12">
            <h2 class="font-bold my-5">Titre</h2>
            <p class="text-base mx-11">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Enim, doloremque. Libero nulla velit quibusdam illum atque obcaecati?9</p>
            <p class="mt-16">spécialité</p>
            <div class="flex justify-evenly mt-4">
                <p class="text-xl">14 réponses</p>
                <p>keur</p>
            </div>
        </div>

        <div class="w-[393px] h-[342px] bg-[var(--gris-anthracite)] dark:bg-[var(--blanc-casse)] text-center rounded-2xl mx-12">
            <h2 class="font-bold my-5">Titre</h2>
            <p class="text-base">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Enim, doloremque. Libero nulla velit quibusdam illum atque obcaecati? Commodi, odio itaque pariatur reprehenderit quisquam laborum iusto eveniet. Labore omnis nulla ratione!</p>
            <p class="mt-16">spécialité</p>
            <div class="flex justify-evenly mt-4">
                <p class="text-xl">14 réponses</p>
                <p>keur</p>
            </div>
        </div>

        <div class="w-[393px] h-[342px] bg-[var(--gris-anthracite)] dark:bg-[var(--blanc-casse)] text-center rounded-2xl mx-12">
            <h2 class="font-bold my-5">Titre</h2>
            <p class="text-base">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Enim, doloremque. Libero nulla velit quibusdam illum atque obcaecati? Commodi, odio itaque pariatur reprehenderit quisquam laborum iusto eveniet. Labore omnis nulla ratione!</p>
            <p class="mt-16">spécialité</p>
            <div class="flex justify-evenly mt-4">
                <p class="text-xl">14 réponses</p>
                <p>keur</p>
            </div>
        </div>

        <div class="w-[393px] h-[342px] bg-[var(--gris-anthracite)] dark:bg-[var(--blanc-casse)] text-center rounded-2xl mx-12">
            <h2 class="font-bold my-5">Titre</h2>
            <p class="text-base">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Enim, doloremque. Libero nulla velit quibusdam illum atque obcaecati? Commodi, odio itaque pariatur reprehenderit quisquam laborum iusto eveniet. Labore omnis nulla ratione!</p>
            <p class="mt-16">spécialité</p>
            <div class="flex justify-evenly mt-4">
                <p class="text-xl">14 réponses</p>
                <p>keur</p>
            </div>
        </div>

        <div class="w-[393px] h-[342px] bg-[var(--gris-anthracite)] dark:bg-[var(--blanc-casse)] text-center rounded-2xl mx-12">
            <h2 class="font-bold my-5">Titre</h2>
            <p class="text-base">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Enim, doloremque. Libero nulla velit quibusdam illum atque obcaecati? Commodi, odio itaque pariatur reprehenderit quisquam laborum iusto eveniet. Labore omnis nulla ratione!</p>
            <p class="mt-16">spécialité</p>
            <div class="flex justify-evenly mt-4">
                <p class="text-xl">14 réponses</p>
                <p>keur</p>
            </div>
        </div>

        <div class="w-[393px] h-[342px] bg-[var(--gris-anthracite)] dark:bg-[var(--blanc-casse)] text-center rounded-2xl mx-12">
            <h2 class="font-bold my-5">Titre</h2>
            <p class="text-base">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Enim, doloremque. Libero nulla velit quibusdam illum atque obcaecati? Commodi, odio itaque pariatur reprehenderit quisquam laborum iusto eveniet. Labore omnis nulla ratione!</p>
            <p class="mt-16">spécialité</p>
            <div class="flex justify-evenly mt-4">
                <p class="text-xl">14 réponses</p>
                <p>keur</p>
            </div>
        </div>
    </div> -->

    

</Layout>